<div class="candidates-container">
  <mat-card class="candidates-card">
    <mat-card-header>
      <div class="candidates-header">
        <div class="header-info">
          <mat-card-title>Candidate Management</mat-card-title>
          <mat-card-subtitle
            >Search, filter, and manage spaceflight
            candidates</mat-card-subtitle
          >
        </div>
      </div>
    </mat-card-header>
    <app-candidate-filters
      [filters]="filters()"
      [viewMode]="viewMode()"
      [resultCount]="filteredCandidates().length"
      [totalCount]="totalCandidates()"
      [loading]="loading()"
      [(searchChange)]="searchTerm"
      [(statusFilterChange)]="statusFilter"
      [(cityFilterChange)]="cityFilter"
      [(ageFilterChange)]="ageFilter"
      [(dateFilterChange)]="dateFilter"
      (removeFilter)="onRemoveFilter($event)"
      (clearFilters)="clearFilters()"
      (toggleView)="toggleViewMode($event)">
      >
    </app-candidate-filters>

    <mat-card-content>
      @if (viewMode() === 'grid') {

      <app-candidate-grid
        [candidates]="filteredCandidates()"
        [loading]="loading()"
        (candidateClick)="viewCandidateDetail($event)"
        (clearFilters)="clearFilters()">
      </app-candidate-grid>

      } @else {
      <app-candidate-table
        [candidates]="filteredCandidates()"
        [loading]="loading()"
        (candidateView)="viewCandidateDetail($event)"
        (clearFilters)="clearFilters()">
      </app-candidate-table>

      }
    </mat-card-content>
  </mat-card>
</div>
