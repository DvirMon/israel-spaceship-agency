<div class="overview-container">
  <div class="charts-grid">
    @if(!isLoading()) {
    <mat-card class="info-card">
      <mat-card-header>
        <mat-card-title> Age Distribution </mat-card-title>
        <mat-card-subtitle>Breakdown of candidate ages</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <article>
          @if(viewState.show()) {
          <ngx-charts-bar-vertical
            [view]="viewState.view()"
            [results]="ageResults()"
            [scheme]="colorScheme"
            [xAxis]="true"
            [yAxis]="true"
            [showXAxisLabel]="true"
            [showYAxisLabel]="true"
            xAxisLabel="Ages"
            yAxisLabel="Count"
            [animations]="true"
            [yAxisTickFormatting]="formatTicks">
          </ngx-charts-bar-vertical>
          } @else {

          <ngx-charts-bar-vertical
            [results]="ageResults()"
            [scheme]="colorScheme"
            [xAxis]="true"
            [yAxis]="true"
            [showXAxisLabel]="true"
            [showYAxisLabel]="true"
            xAxisLabel="Ages"
            yAxisLabel="Count"
            [animations]="true"
            [yAxisTickFormatting]="formatTicks">
          </ngx-charts-bar-vertical>
          }
        </article>
      </mat-card-content>
    </mat-card>
    <mat-card class="info-card">
      <mat-card-header>
        <mat-card-title> City Distribution </mat-card-title>
        <mat-card-subtitle>Number of users per city</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <article>
          @if(viewState.show()) {
          <ngx-charts-bar-vertical
            [view]="viewState.view()"
            [results]="cityResults()"
            [scheme]="colorScheme"
            [xAxis]="true"
            [yAxis]="true"
            [showXAxisLabel]="true"
            [showYAxisLabel]="true"
            xAxisLabel="Cities"
            yAxisLabel="Count"
            [animations]="true"
            [yAxisTickFormatting]="formatTicks">
          </ngx-charts-bar-vertical>
          } @else {
          <ngx-charts-bar-vertical
            [results]="cityResults()"
            [scheme]="colorScheme"
            [xAxis]="true"
            [yAxis]="true"
            [showXAxisLabel]="true"
            [showYAxisLabel]="true"
            xAxisLabel="Cities"
            yAxisLabel="Count"
            [animations]="true"
            [yAxisTickFormatting]="formatTicks">
          </ngx-charts-bar-vertical>
          }
        </article>
      </mat-card-content>
    </mat-card>
    <mat-card class="info-card">
      <mat-card-header>
        <mat-card-title> Locations Distribution </mat-card-title>
        <mat-card-subtitle>Number of users per city</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <article class="map-container">
          <app-location-map [results]="locationCoordinates()">
          </app-location-map>
        </article>
      </mat-card-content>
    </mat-card>
    }
  </div>
</div>
